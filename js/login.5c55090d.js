(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"7fa3":function(t,e,o){"use strict";var n=o("cb85"),i=o.n(n);i.a},a55b:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("h1",{staticStyle:{color:"white"}},[t._v("Veuillez vous connecter")]),o("br"),o("div",{attrs:{id:"form"}},[t.firstStep?o("div",[o("vs-input",{staticStyle:{display:"inline-block","vertical-align":"baseline","margin-right":"10px","text-align":"left !important"},attrs:{"icon-no-border":"",icon:"account_circle","label-placeholder":"Pseudo"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),o("vs-button",{staticStyle:{display:"inline-block","vertical-align":"baseline"},attrs:{type:"relief"},on:{click:t.firstSubmit}},[t._v("Suivant")])],1):t._e(),t.secondStep?o("div",[o("p",{staticStyle:{color:"white"}},[t._v("Veuillez mettre le code suivant en humeur : "),o("span",{staticStyle:{padding:"6px","background-color":"#656565",border:"black solid 1px","border-radius":"15px"}},[t._v(t._s(t.mottoCode))]),t._v(" (le code a été copié)")]),o("br"),o("vs-button",{staticStyle:{display:"inline-block","vertical-align":"baseline"},attrs:{color:"success",type:"relief"},on:{click:t.secondSubmit}},[t._v("Terminer")])],1):t._e()])])},i=[],r=(o("c975"),o("bc3a")),s=o.n(r),a={name:"Login",components:{},data:function(){return{username:"",mottoCode:"",currentMotto:"",firstStep:!0,secondStep:!1,tempData:{}}},beforeCreate:function(){this.$parent.checkConnected()},methods:{openLoading(){this.$vs.loading({type:"radius"})},generateCode(){for(var t=8,e="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=o.length,i=0;i<t;i++)e+=o.charAt(Math.floor(Math.random()*n));return e="#RFH_"+e,e},firstSubmit(){var t=this;this.openLoading(),s.a.get("https://www.habbo.fr/api/public/users?name="+t.username).then(t=>{this.$vs.loading.close(),console.log(t),this.$vs.notify({title:"Succès !",text:"Données récupérées ! Veuillez confirmer la connexion ",color:"success",position:"top-center"}),this.mottoCode=this.generateCode(),this.$copyText(this.mottoCode),this.firstStep=!1,this.secondStep=!0}).catch(t=>{this.$vs.loading.close(),this.$vs.notify({title:"Erreur !",text:"Une erreur s'est produite : "+t,color:"danger",position:"top-center"})})},secondSubmit(){var t=this;this.openLoading(),s.a.get("https://www.habbo.fr/api/public/users?name="+t.username).then(e=>{this.$vs.loading.close(),console.log(e.data.motto+" ?= "+this.mottoCode),t.currentMotto=e.data.motto,t.tempData=e.data}).catch(t=>{this.$vs.loading.close(),this.$vs.notify({title:"Erreur !",text:"Une erreur s'est produite : "+t,color:"danger",position:"top-center"})});var e=0;this.currentMotto.indexOf(this.mottoCode)>-1?(this.$vs.notify({title:"Succès !",text:"Connexion en cours...",color:"success",position:"top-center"}),this.$parent.login(this.tempData)):(console.log("Failed"),e++,e<2?setTimeout(this.secondSubmit,500):this.$vs.notify({title:"Erreur !",text:"Code erroné, veuillez réessayer",color:"danger",position:"top-center"}))}}},c=a,l=(o("7fa3"),o("2877")),u=Object(l["a"])(c,n,i,!1,null,null,null);e["default"]=u.exports},a640:function(t,e,o){"use strict";var n=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&n((function(){o.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,o){var n=o("83ab"),i=o("d039"),r=o("5135"),s=Object.defineProperty,a={},c=function(t){throw t};t.exports=function(t,e){if(r(a,t))return a[t];e||(e={});var o=[][t],l=!!r(e,"ACCESSORS")&&e.ACCESSORS,u=r(e,0)?e[0]:c,d=r(e,1)?e[1]:void 0;return a[t]=!!o&&!i((function(){if(l&&!n)return!0;var t={length:-1};l?s(t,1,{enumerable:!0,get:c}):t[1]=1,o.call(t,u,d)}))}},c975:function(t,e,o){"use strict";var n=o("23e7"),i=o("4d64").indexOf,r=o("a640"),s=o("ae40"),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?a.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},cb85:function(t,e,o){}}]);
//# sourceMappingURL=login.5c55090d.js.map